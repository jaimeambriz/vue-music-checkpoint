webpackJsonp([0],[,,function(t,e,n){"use strict";var a=n(10),s=n.n(a),i=n(1),o=n(31),r=n(18),c=n.n(r),u=window.location.host.indexOf("localhost")>-1?"//localhost:3000/":"https://my-vue-music.herokuapp.com/";i.a.use(o.a);var l=new o.a.Store({state:{myTunes:[],results:[],error:{}},mutations:{setResults:function(t,e){i.a.set(t,"results",e)},setMyTunes:function(t,e){e.sort(function(t,e){return t.rank-e.rank}),t.myTunes=e},handleError:function(t,e){t.error=e}},actions:{getMusicByArtist:function(t,e){var n=t.commit;t.dispatch;n("setResults",[]);var a="https://itunes.apple.com/search?term="+e;encodeURIComponent(a);c.a.getJSON(a).then(function(t){n("setResults",t.results)}).catch(function(t){n("handleError",t)})},getMyTunes:function(t){var e=t.commit;t.dispatch;c.a.getJSON(u+"music/songs").then(function(t){e("setMyTunes",t)}).catch(function(t){e("handleError",t)})},addToMyTunes:function(t,e){var n=t.commit,a=t.dispatch,s=u+"music/songs",i={title:e.trackName,albumArt:e.artworkUrl100,artist:e.artistName,album:e.collectionName,albumPrice:e.collectionPrice,preview:e.previewUrl,genre:e.primaryGenreName,trackId:e.trackId,rank:e.rank};c.a.post(s,i).then(function(t){a("getMyTunes")}).catch(function(t){n("handleError",t)})},removeTrack:function(t,e){var n=t.commit,a=t.dispatch;c.a.ajax({url:u+"music/songs/"+e._id,method:"DELETE"}).then(function(t){a("updateTracks",e)}).catch(function(t){n("handleError",t)})},dragUpdateTracks:function(t,e){for(var n=t.commit,a=(t.dispatch,l.state.myTunes),i=0;i<e.length;i++){var o=e[i];o.rank=i+1,o._id!==a[i]._id&&c.a.ajax({url:u+"music/songs/"+o._id,method:"PUT",contentType:"application/json",data:s()(o)}).then(function(t){}).catch(function(t){n("handleError",t)})}n("setMyTunes",e)},updateTracks:function(t,e){var n=t.commit,a=(t.dispatch,l.state.myTunes);a.splice(e.rank-1,1);for(var i=e.rank-1;i<a.length;i++){var e=a[i];e.rank--,c.a.ajax({url:u+"music/songs/"+e._id,method:"PUT",contentType:"application/json",data:s()(e)}).then(function(t){}).catch(function(t){n("handleError",t)})}n("setMyTunes",a)},promoteTrack:function(t,e){var n=t.commit,a=(t.dispatch,l.state.myTunes),i={};if(e.rank>1){e.rank--;for(var o=0;o<a.length;o++){var r=a[o];if(e.rank==r.rank&&e._id!==r._id){i=r,i.rank++;break}}n("setMyTunes",a),c.a.ajax({url:u+"music/songs/"+i._id,method:"PUT",contentType:"application/json",data:s()(i)}).then(function(t){}).catch(function(t){n("handleError",t)}),c.a.ajax({url:u+"music/songs/"+e._id,method:"PUT",contentType:"application/json",data:s()(e)}).then(function(t){}).catch(function(t){n("handleError",t)})}else n("setMyTunes",a)},demoteTrack:function(t,e){var n=t.commit,a=(t.dispatch,l.state.myTunes),i={};if(e.rank<a.length){e.rank++;for(var o=0;o<a.length;o++){var r=a[o];if(e.rank==r.rank&&e._id!==r._id){i=r,i.rank--;break}}n("setMyTunes",a),c.a.ajax({url:u+"music/songs/"+i._id,method:"PUT",contentType:"application/json",data:s()(i)}).then(function(t){}).catch(function(t){n("handleError",t)}),c.a.ajax({url:u+"music/songs/"+e._id,method:"PUT",contentType:"application/json",data:s()(e)}).then(function(t){}).catch(function(t){n("handleError",t)})}else n("setMyTunes",a)}}});e.a=l},function(t,e,n){n(15);var a=n(0)(n(4),n(26),null,null);t.exports=a.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(20),s=n.n(a);e.default={name:"app",components:{Home:s.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(22),s=n.n(a),i=n(23),o=n.n(i);addEventListener("play",function(t){for(var e=document.getElementsByClassName("audio"),n=0,a=e.length;n<a;n++)e[n]!=t.target&&e[n].pause()},!0),e.default={components:{mytunes:o.a,itunes:s.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"MyAudio",props:["song"],watch:{song:function(){this.$refs.player.load()}},data:function(){return{}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"itunes",data:function(){return{searchArtist:""}},methods:{getMusicByArtist:function(){$("#get-music-button").text("Loading...."),this.$store.dispatch("getMusicByArtist",this.searchArtist),this.searchArtist=""},addToMyTunes:function(t){t.rank=this.$store.state.myTunes.length+1,this.$store.dispatch("addToMyTunes",t)}},computed:{results:function(){return setTimeout(function(){$("#get-music-button").text("Get Trak§")},1500),this.$store.state.results}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),s=n.n(a),i=n(30),o=n.n(i);e.default={name:"mytunes",data:function(){return{drag:!1}},mounted:function(){this.$store.dispatch("getMyTunes")},methods:{enableDrag:function(){this.drag=!this.drag,this.drag?$("#draggable").removeClass("active").addClass("inactive"):$("#draggable").removeClass("inactive").addClass("active")},removeFromPlaylist:function(t){var e=this.$store.state.myTunes;this.$store.dispatch("removeTrack",t),t=e[t.rank-1],$("#"+t._id).addClass("animated zoomOutLeft").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated zoomOutLeft")})},promoteTrack:function(t){var e=this.$store.state.myTunes;1!=t.rank?this.$store.dispatch("promoteTrack",t):(t=e[t.rank-1],$("#"+t._id).addClass("animated tada").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated tada")}))},demoteTrack:function(t){var e=this.$store.state.myTunes;t.rank!=e.length?this.$store.dispatch("demoteTrack",t):(t=e[t.rank-1],$("#"+t._id).addClass("animated tada").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated tada")}))}},computed:{myTunes:{get:function(){return setTimeout(function(){$(".img-animation ").removeClass("img-animation")},2e3),setTimeout(function(){$(".info-animation ").removeClass("info-animation")},2e3),this.$store.state.myTunes},set:function(t){this.$store.dispatch("dragUpdateTracks",t)}}},components:{MyAudio:s.a,Draggable:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=n(3),i=n.n(s),o=n(2);new a.a({el:"#app",template:"<App/>",store:o.a,components:{App:i.a}})},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){n(17);var a=n(0)(n(5),n(28),null,null);t.exports=a.exports},function(t,e,n){n(13);var a=n(0)(n(6),n(24),null,null);t.exports=a.exports},function(t,e,n){n(16);var a=n(0)(n(7),n(27),null,null);t.exports=a.exports},function(t,e,n){n(14);var a=n(0)(n(8),n(25),"data-v-3112f5a9",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.song.preview?n("audio",{ref:"player",staticClass:"audio",attrs:{controls:""}},[n("source",{attrs:{id:"audio",src:t.song.preview,type:"audio/ogg"}}),t._v(" "),n("source",{attrs:{id:"audio",src:t.song.preview,type:"audio/mpeg"}}),t._v("\n        Your browser does not support the audio element.\n")]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mytunes"},[n("img",{staticClass:"drag-enable active",attrs:{src:"http://www.enochsystems.com/intl/wp-content/uploads/2015/05/1-drag-flick.png",alt:"drag icon",id:"draggable"},on:{click:t.enableDrag}}),t._v(" "),n("h1",{staticClass:"text-center my-playlist",staticStyle:{"font-family":"fantasy",color:"white",position:"fixed"}},[t._v("My Playlist")]),t._v(" "),n("div",{staticClass:"container"},[n("draggable",{attrs:{options:{disabled:t.drag}},model:{value:t.myTunes,callback:function(e){t.myTunes=e},expression:"myTunes"}},[n("transition-group",{attrs:{name:"list-complete"}},t._l(t.myTunes,function(e){return n("div",{key:e._id,staticClass:"song"},[n("div",{staticClass:"row",attrs:{id:e._id}},[n("div",{staticClass:"col-sm-3 flex img-animation sortable-drag",attrs:{id:"my-tunes-img"}},[n("div",{staticClass:"img",staticStyle:{"padding-left":"14%"}},[n("img",{attrs:{src:e.albumArt,alt:"album art"}}),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:function(n){t.removeFromPlaylist(e)}}},[t._v("Remove Track")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 promote-demote"},[n("i",{staticClass:"fa fa-arrow-up fa-lg",staticStyle:{color:"white"},on:{click:function(n){t.promoteTrack(e)}}}),t._v(" "),n("h4",[t._v(t._s(e.rank))]),t._v(" "),n("i",{staticClass:"fa fa-arrow-down fa-lg",staticStyle:{color:"white"},on:{click:function(n){t.demoteTrack(e)}}})])])])]),t._v(" "),n("div",{staticClass:"col-sm-9 info-animation",attrs:{id:"my-tunes-info"}},[n("ul",[n("li",[n("h3",[t._v(t._s(e.title))])]),t._v(" "),n("li",[n("h3",[t._v(t._s(e.artist))])]),t._v(" "),n("li",[n("h4",[t._v(t._s(e.album))])]),t._v(" "),n("li",[n("p",[t._v(t._s(e.albumPrice))])]),t._v(" "),n("li",[n("my-audio",{attrs:{song:e}})],1)])])])])}))],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("home")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itunes"},[n("form",{staticClass:"form text-center",staticStyle:{position:"fixed"},on:{submit:function(e){e.preventDefault(),t.getMusicByArtist(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchArtist,expression:"searchArtist"}],staticClass:"text-center",attrs:{type:"text",placeholder:"Artist/Song"},domProps:{value:t.searchArtist},on:{input:function(e){e.target.composing||(t.searchArtist=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"submit",id:"get-music-button"}},[t._v("Get Trak§")])]),t._v(" "),n("div",{staticClass:"container"},t._l(t.results,function(e){return n("div",{staticClass:"song"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-3 flex img-animation"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.artworkUrl100,alt:""}}),t._v(" "),n("button",{staticClass:"btn btn-success",on:{click:function(n){t.addToMyTunes(e)}}},[t._v("add to playlist")])])]),t._v(" "),n("div",{staticClass:"col-sm-9 info-animation"},[n("ul",[n("li",[n("h3",[t._v(t._s(e.trackName))])]),t._v(" "),n("li",[n("h3",[t._v(t._s(e.artistName))])]),t._v(" "),n("li",[n("h4",[t._v(t._s(e.collectionName))])]),t._v(" "),n("li",[n("p",[t._v(t._s(e.collectionPrice))])]),t._v(" "),n("li",[n("audio",{staticClass:"audio",attrs:{controls:""}},[n("source",{attrs:{src:e.previewUrl,type:"audio/ogg"}}),t._v(" "),n("source",{attrs:{src:e.previewUrl,type:"audio/mpeg"}})])])])])])])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"iTunes scroll-container"},[n("div",{staticClass:"row insert"},[n("mytunes",{staticClass:"mytunes col-sm-5 scroll"}),t._v(" "),t._m(0),t._v(" "),n("itunes",{staticClass:"itunes col-sm-5 scroll-1"})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title col-sm-1"},[n("h1",{attrs:{id:"traks"}},[t._v("T")]),t._v(" "),n("h1",{attrs:{id:"traks"}},[t._v("R")]),t._v(" "),n("h1",{attrs:{id:"traks"}},[t._v("A")]),t._v(" "),n("h1",{attrs:{id:"traks"}},[t._v("K")]),t._v(" "),n("h1",{attrs:{id:"traks"}},[t._v("§")])])}]}}],[9]);
//# sourceMappingURL=app.45490b0891da995adc66.js.map