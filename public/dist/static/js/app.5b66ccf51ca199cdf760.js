webpackJsonp([0],[,,function(t,e,s){"use strict";var n=s(10),a=s.n(n),o=s(1),i=s(29),r=s(18),c=s.n(r),u=window.location.host.indexOf("localhost")>-1?"//localhost:3000/":"https://my-vue-music.herokuapp.com/";o.a.use(i.a);var l=new i.a.Store({state:{myTunes:[],results:[]},mutations:{setResults:function(t,e){o.a.set(t,"results",e)},setMyTunes:function(t,e){e.sort(function(t,e){return t.rank-e.rank}),t.myTunes=e,console.log("my tunes:",t.myTunes)}},actions:{getMusicByArtist:function(t,e){var s=t.commit;t.dispatch;s("setResults",[]);var n="https://itunes.apple.com/search?term="+e;encodeURIComponent(n);c.a.getJSON(n).then(function(t){s("setResults",t.results),console.log("search results:",t)})},getMyTunes:function(t){var e=t.commit;t.dispatch;c.a.getJSON(u+"music/songs").then(function(t){e("setMyTunes",[]),e("setMyTunes",t)})},addToMyTunes:function(t,e){var s=(t.commit,t.dispatch),n=u+"music/songs",a={title:e.trackName,albumArt:e.artworkUrl100,artist:e.artistName,album:e.collectionName,albumPrice:e.collectionPrice,preview:e.previewUrl,genre:e.primaryGenreName,trackId:e.trackId,rank:e.rank};console.log("added song:",a),c.a.post(n,a).then(function(t){console.log("addToMyTunes response: ",t),s("getMyTunes")})},removeTrack:function(t,e){var s=(t.commit,t.dispatch);c.a.ajax({url:u+"music/songs/"+e,method:"DELETE"}).then(function(t){console.log("removed track:",t),s("getMyTunes")})},promoteTrack:function(t,e){var s=t.commit,n=(t.dispatch,l.state.myTunes),o={};if(e.rank>1){e.rank--;for(var i=0;i<n.length;i++){var r=n[i];if(e.rank==r.rank&&e._id!==r._id){o=r,o.rank++;break}}s("setMyTunes",n),c.a.ajax({url:u+"music/songs/"+o._id,method:"PUT",contentType:"application/json",data:a()(o)}).then(function(t){console.log("Updated Next Song:",t)}),c.a.ajax({url:u+"music/songs/"+e._id,method:"PUT",contentType:"application/json",data:a()(e)}).then(function(t){console.log("Updated track:",t)})}else s("setMyTunes",n),console.log("Can't do that, alrady at the top!")},demoteTrack:function(t,e){var s=t.commit,n=(t.dispatch,l.state.myTunes),o={};if(e.rank<n.length){e.rank++;for(var i=0;i<n.length;i++){var r=n[i];if(e.rank==r.rank&&e._id!==r._id){o=r,o.rank--;break}}s("setMyTunes",n),c.a.ajax({url:u+"music/songs/"+o._id,method:"PUT",contentType:"application/json",data:a()(o)}).then(function(t){console.log("Updated Next Song:",t)}),c.a.ajax({url:u+"music/songs/"+e._id,method:"PUT",contentType:"application/json",data:a()(e)}).then(function(t){console.log("Updated track:",t)})}else s("setMyTunes",n),console.log("can't do that, already at lowest rank!")}}});e.a=l},function(t,e,s){s(15);var n=s(0)(s(4),s(25),null,null);t.exports=n.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(19),a=s.n(n);e.default={name:"app",components:{Home:a.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(21),a=s.n(n),o=s(22),i=s.n(o);addEventListener("play",function(t){for(var e=document.getElementsByClassName("audio"),s=0,n=e.length;s<n;s++)e[s]!=t.target&&e[s].pause()},!0),e.default={components:{mytunes:i.a,itunes:a.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"MyAudio",props:["song"],watch:{song:function(){this.$refs.player.load()}},data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"itunes",data:function(){return{searchArtist:""}},methods:{getMusicByArtist:function(){this.$store.dispatch("getMusicByArtist",this.searchArtist),this.searchArtist=""},addToMyTunes:function(t){t.rank=this.$store.state.myTunes.length+1,this.$store.dispatch("addToMyTunes",t)}},computed:{results:function(){return this.$store.state.results}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(20),a=s.n(n);e.default={name:"mytunes",data:function(){return{}},mounted:function(){this.$store.dispatch("getMyTunes")},methods:{removeFromPlaylist:function(t){this.$store.dispatch("removeTrack",t)},promoteTrack:function(t){this.$store.dispatch("promoteTrack",t)},demoteTrack:function(t){this.$store.dispatch("demoteTrack",t)}},computed:{myTunes:function(){return this.$store.state.myTunes}},components:{MyAudio:a.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(3),o=s.n(a),i=s(2);new n.a({el:"#app",template:"<App/>",store:i.a,components:{App:o.a}})},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,s){s(17);var n=s(0)(s(5),s(27),null,null);t.exports=n.exports},function(t,e,s){s(13);var n=s(0)(s(6),s(23),null,null);t.exports=n.exports},function(t,e,s){s(16);var n=s(0)(s(7),s(26),null,null);t.exports=n.exports},function(t,e,s){s(14);var n=s(0)(s(8),s(24),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.song.preview?s("audio",{ref:"player",staticClass:"audio",attrs:{controls:""}},[s("source",{attrs:{id:"audio",src:t.song.preview,type:"audio/ogg"}}),t._v(" "),s("source",{attrs:{id:"audio",src:t.song.preview,type:"audio/mpeg"}}),t._v("\n        Your browser does not support the audio element.\n")]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mytunes"},[s("h1",{staticClass:"text-center",staticStyle:{"font-family":"fantasy",color:"white"}},[t._v("My Playlist")]),t._v(" "),t._l(t.myTunes,function(e){return t.myTunes.length>0?s("div",{staticClass:"song container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 flex img-animation",attrs:{id:"my-tunes-img"}},[s("div",{staticClass:"img"},[s("img",{attrs:{src:e.albumArt,alt:""}}),t._v(" "),s("button",{staticClass:"btn btn-danger",on:{click:function(s){t.removeFromPlaylist(e._id)}}},[t._v("Remove Track")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 promote-demote"},[s("i",{staticClass:"fa fa-arrow-up fa-lg",staticStyle:{color:"white"},on:{click:function(s){t.promoteTrack(e)}}}),t._v(" "),s("h4",[t._v(t._s(e.rank))]),t._v(" "),s("i",{staticClass:"fa fa-arrow-down fa-lg",staticStyle:{color:"white"},on:{click:function(s){t.demoteTrack(e)}}})])])])]),t._v(" "),s("div",{staticClass:"col-sm-9 info-animation",attrs:{id:"my-tunes-info"}},[s("ul",[s("li",[s("h3",[t._v(t._s(e.title))])]),t._v(" "),s("li",[s("h3",[t._v(t._s(e.artist))])]),t._v(" "),s("li",[s("h4",[t._v(t._s(e.album))])]),t._v(" "),s("li",[s("p",[t._v(t._s(e.albumPrice))])]),t._v(" "),s("li",[s("my-audio",{attrs:{song:e}})],1)])])])]):t._e()})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("home")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"itunes"},[s("form",{staticClass:"form text-center",on:{submit:function(e){e.preventDefault(),t.getMusicByArtist(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchArtist,expression:"searchArtist"}],staticClass:"text-center",attrs:{type:"text",placeholder:"Artist/Song"},domProps:{value:t.searchArtist},on:{input:function(e){e.target.composing||(t.searchArtist=e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("Get Trak§")])]),t._v(" "),t._l(t.results,function(e){return s("div",{staticClass:"song container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 flex"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:e.artworkUrl100,alt:""}}),t._v(" "),s("button",{staticClass:"btn btn-success",on:{click:function(s){t.addToMyTunes(e)}}},[t._v("add to playlist")])])]),t._v(" "),s("div",{staticClass:"col-sm-9 info"},[s("ul",[s("li",[s("h3",[t._v(t._s(e.trackName))])]),t._v(" "),s("li",[s("h3",[t._v(t._s(e.artistName))])]),t._v(" "),s("li",[s("h4",[t._v(t._s(e.collectionName))])]),t._v(" "),s("li",[s("p",[t._v(t._s(e.collectionPrice))])]),t._v(" "),s("li",[s("audio",{staticClass:"audio",attrs:{controls:""}},[s("source",{attrs:{src:e.previewUrl,type:"audio/ogg"}}),t._v(" "),s("source",{attrs:{src:e.previewUrl,type:"audio/mpeg"}})])])])])])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"iTunes scroll-container"},[s("div",{staticClass:"row insert"},[s("mytunes",{staticClass:"mytunes col-sm-5 scroll"}),t._v(" "),t._m(0),t._v(" "),s("itunes",{staticClass:"itunes col-sm-5 scroll-1"})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title col-sm-1"},[s("h1",{attrs:{id:"traks"}},[t._v("T")]),t._v(" "),s("h1",{attrs:{id:"traks"}},[t._v("R")]),t._v(" "),s("h1",{attrs:{id:"traks"}},[t._v("A")]),t._v(" "),s("h1",{attrs:{id:"traks"}},[t._v("K")]),t._v(" "),s("h1",{attrs:{id:"traks"}},[t._v("§")])])}]}}],[9]);
//# sourceMappingURL=app.5b66ccf51ca199cdf760.js.map