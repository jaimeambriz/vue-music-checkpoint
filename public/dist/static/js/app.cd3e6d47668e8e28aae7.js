webpackJsonp([0],[,,function(t,n,e){"use strict";var a=e(10),s=e.n(a),i=e(1),o=e(29),r=e(18),c=e.n(r),l=window.location.host.indexOf("localhost")>-1?"//localhost:3000/":"https://my-vue-music.herokuapp.com/";i.a.use(o.a);var u=new o.a.Store({state:{myTunes:[],results:[]},mutations:{setResults:function(t,n){i.a.set(t,"results",n)},setMyTunes:function(t,n){n.sort(function(t,n){return t.rank-n.rank}),t.myTunes=n}},actions:{getMusicByArtist:function(t,n){var e=t.commit;t.dispatch;e("setResults",[]);var a="https://itunes.apple.com/search?term="+n;encodeURIComponent(a);c.a.getJSON(a).then(function(t){e("setResults",t.results)})},getMyTunes:function(t){var n=t.commit;t.dispatch;c.a.getJSON(l+"music/songs").then(function(t){n("setMyTunes",t)})},addToMyTunes:function(t,n){var e=(t.commit,t.dispatch),a=l+"music/songs",s={title:n.trackName,albumArt:n.artworkUrl100,artist:n.artistName,album:n.collectionName,albumPrice:n.collectionPrice,preview:n.previewUrl,genre:n.primaryGenreName,trackId:n.trackId,rank:n.rank};console.log("added song:",s),c.a.post(a,s).then(function(t){console.log("addToMyTunes response: ",t),e("getMyTunes")})},removeTrack:function(t,n){var e=(t.commit,t.dispatch);c.a.ajax({url:l+"music/songs/"+n._id,method:"DELETE"}).then(function(t){console.log("removed track:",t),e("updateTracks",n)})},updateTracks:function(t,n){var e=t.commit,a=(t.dispatch,u.state.myTunes);a.splice(n.rank-1,1);for(var i=n.rank-1;i<a.length;i++){var n=a[i];n.rank--,c.a.ajax({url:l+"music/songs/"+n._id,method:"PUT",contentType:"application/json",data:s()(n)}).then(function(t){console.log("Updated track:",t)})}e("setMyTunes",a)},promoteTrack:function(t,n){var e=t.commit,a=(t.dispatch,u.state.myTunes),i={};if(n.rank>1){n.rank--;for(var o=0;o<a.length;o++){var r=a[o];if(n.rank==r.rank&&n._id!==r._id){i=r,i.rank++;break}}e("setMyTunes",a),c.a.ajax({url:l+"music/songs/"+i._id,method:"PUT",contentType:"application/json",data:s()(i)}).then(function(t){}),c.a.ajax({url:l+"music/songs/"+n._id,method:"PUT",contentType:"application/json",data:s()(n)}).then(function(t){console.log("Updated track:",t)})}else e("setMyTunes",a),console.log("Can't do that, alrady at the top!")},demoteTrack:function(t,n){var e=t.commit,a=(t.dispatch,u.state.myTunes),i={};if(n.rank<a.length){n.rank++;for(var o=0;o<a.length;o++){var r=a[o];if(n.rank==r.rank&&n._id!==r._id){i=r,i.rank--;break}}e("setMyTunes",a),c.a.ajax({url:l+"music/songs/"+i._id,method:"PUT",contentType:"application/json",data:s()(i)}).then(function(t){}),c.a.ajax({url:l+"music/songs/"+n._id,method:"PUT",contentType:"application/json",data:s()(n)}).then(function(t){console.log("Updated track:",t)})}else e("setMyTunes",a),console.log("can't do that, already at lowest rank!")}}});n.a=u},function(t,n,e){e(15);var a=e(0)(e(4),e(25),null,null);t.exports=a.exports},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(19),s=e.n(a);n.default={name:"app",components:{Home:s.a}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(21),s=e.n(a),i=e(22),o=e.n(i);addEventListener("play",function(t){for(var n=document.getElementsByClassName("audio"),e=0,a=n.length;e<a;e++)n[e]!=t.target&&n[e].pause()},!0),n.default={components:{mytunes:o.a,itunes:s.a}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"MyAudio",props:["song"],watch:{song:function(){this.$refs.player.load()}},data:function(){return{}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"itunes",data:function(){return{searchArtist:""}},methods:{getMusicByArtist:function(){this.$store.dispatch("getMusicByArtist",this.searchArtist),this.searchArtist=""},addToMyTunes:function(t){t.rank=this.$store.state.myTunes.length+1,this.$store.dispatch("addToMyTunes",t)}},computed:{results:function(){return this.$store.state.results}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(20),s=e.n(a);n.default={name:"mytunes",data:function(){return{}},mounted:function(){this.$store.dispatch("getMyTunes")},methods:{removeFromPlaylist:function(t){var n=this.$store.state.myTunes;this.$store.dispatch("removeTrack",t),t=n[t.rank-1],$("#"+t._id).addClass("animated zoomOutLeft").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated zoomOutLeft")})},promoteTrack:function(t){var n=this.$store.state.myTunes;1!=t.rank?(this.$store.dispatch("promoteTrack",t),t=n[t.rank],$("#"+t._id).addClass("animated slideInUp").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated slideInUp")}),t=n[t.rank-2],$("#"+t._id).addClass("animated slideInDown").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated slideInDown")})):(t=n[t.rank-1],$("#"+t._id).addClass("animated tada").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated tada")}))},demoteTrack:function(t){var n=this.$store.state.myTunes;t.rank!=n.length?(this.$store.dispatch("demoteTrack",t),t=n[t.rank-2],$("#"+t._id).addClass("animated slideInDown").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated slideInDown")}),t=n[t.rank],$("#"+t._id).addClass("animated slideInUp").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated slideInUp")})):(t=n[t.rank-1],$("#"+t._id).addClass("animated tada").one("animationend oAnimationEnd mozAnimationEnd webkitAnimationEnd",function(){$(this).removeClass("animated tada")}))}},computed:{myTunes:function(){return this.$store.state.myTunes}},components:{MyAudio:s.a}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(1),s=e(3),i=e.n(s),o=e(2);new a.a({el:"#app",template:"<App/>",store:o.a,components:{App:i.a}})},,,,function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},,function(t,n,e){e(17);var a=e(0)(e(5),e(27),null,null);t.exports=a.exports},function(t,n,e){e(13);var a=e(0)(e(6),e(23),null,null);t.exports=a.exports},function(t,n,e){e(16);var a=e(0)(e(7),e(26),null,null);t.exports=a.exports},function(t,n,e){e(14);var a=e(0)(e(8),e(24),null,null);t.exports=a.exports},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.song.preview?e("audio",{ref:"player",staticClass:"audio",attrs:{controls:""}},[e("source",{attrs:{id:"audio",src:t.song.preview,type:"audio/ogg"}}),t._v(" "),e("source",{attrs:{id:"audio",src:t.song.preview,type:"audio/mpeg"}}),t._v("\n        Your browser does not support the audio element.\n")]):t._e()},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"mytunes"},[e("h1",{staticClass:"text-center",staticStyle:{"font-family":"fantasy",color:"white"}},[t._v("My Playlist")]),t._v(" "),t._l(t.myTunes,function(n){return t.myTunes.length>0?e("div",{staticClass:"song container"},[e("div",{staticClass:"row",attrs:{id:n._id}},[e("div",{staticClass:"col-sm-3 flex img-animation",attrs:{id:"my-tunes-img"}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:n.albumArt,alt:"album art"}}),t._v(" "),e("button",{staticClass:"btn btn-danger",on:{click:function(e){t.removeFromPlaylist(n)}}},[t._v("Remove Track")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 promote-demote"},[e("i",{staticClass:"fa fa-arrow-up fa-lg",staticStyle:{color:"white"},on:{click:function(e){t.promoteTrack(n)}}}),t._v(" "),e("h4",[t._v(t._s(n.rank))]),t._v(" "),e("i",{staticClass:"fa fa-arrow-down fa-lg",staticStyle:{color:"white"},on:{click:function(e){t.demoteTrack(n)}}})])])])]),t._v(" "),e("div",{staticClass:"col-sm-9 info-animation",attrs:{id:"my-tunes-info"}},[e("ul",[e("li",[e("h3",[t._v(t._s(n.title))])]),t._v(" "),e("li",[e("h3",[t._v(t._s(n.artist))])]),t._v(" "),e("li",[e("h4",[t._v(t._s(n.album))])]),t._v(" "),e("li",[e("p",[t._v(t._s(n.albumPrice))])]),t._v(" "),e("li",[e("my-audio",{attrs:{song:n}})],1)])])])]):t._e()})],2)},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("home")],1)},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"itunes"},[e("form",{staticClass:"form text-center",on:{submit:function(n){n.preventDefault(),t.getMusicByArtist(n)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchArtist,expression:"searchArtist"}],staticClass:"text-center",attrs:{type:"text",placeholder:"Artist/Song"},domProps:{value:t.searchArtist},on:{input:function(n){n.target.composing||(t.searchArtist=n.target.value)}}}),t._v(" "),e("button",{attrs:{type:"submit"}},[t._v("Get TrakÂ§")])]),t._v(" "),t._l(t.results,function(n){return e("div",{staticClass:"song container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-3 flex"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:n.artworkUrl100,alt:""}}),t._v(" "),e("button",{staticClass:"btn btn-success",on:{click:function(e){t.addToMyTunes(n)}}},[t._v("add to playlist")])])]),t._v(" "),e("div",{staticClass:"col-sm-9 info"},[e("ul",[e("li",[e("h3",[t._v(t._s(n.trackName))])]),t._v(" "),e("li",[e("h3",[t._v(t._s(n.artistName))])]),t._v(" "),e("li",[e("h4",[t._v(t._s(n.collectionName))])]),t._v(" "),e("li",[e("p",[t._v(t._s(n.collectionPrice))])]),t._v(" "),e("li",[e("audio",{staticClass:"audio",attrs:{controls:""}},[e("source",{attrs:{src:n.previewUrl,type:"audio/ogg"}}),t._v(" "),e("source",{attrs:{src:n.previewUrl,type:"audio/mpeg"}})])])])])])])})],2)},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"iTunes scroll-container"},[e("div",{staticClass:"row insert"},[e("mytunes",{staticClass:"mytunes col-sm-5 scroll"}),t._v(" "),t._m(0),t._v(" "),e("itunes",{staticClass:"itunes col-sm-5 scroll-1"})],1)])},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"title col-sm-1"},[e("h1",{attrs:{id:"traks"}},[t._v("T")]),t._v(" "),e("h1",{attrs:{id:"traks"}},[t._v("R")]),t._v(" "),e("h1",{attrs:{id:"traks"}},[t._v("A")]),t._v(" "),e("h1",{attrs:{id:"traks"}},[t._v("K")]),t._v(" "),e("h1",{attrs:{id:"traks"}},[t._v("Â§")])])}]}}],[9]);
//# sourceMappingURL=app.cd3e6d47668e8e28aae7.js.map